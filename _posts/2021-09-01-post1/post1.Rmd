---
title: "Part 1. COVID-19 Situation in Japan"
description: |
  In this section of the blog, we will be examine the current effect of COVID-19 in Japan through detail analysis of the daily confirmed postive cases,  daily number of death, total number of death in Japan. 
author:
  - name: Qin Xu 
    url: 
date: 09-01-2021
output:
  distill::distill_article:
    self_contained: false
    theme: theme.css
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, eval = TRUE, message = FALSE, warning = FALSE)
```

```{r library}
library(tidyverse)
library(gt)
library(formattable)
library(here)
library(kableExtra)
library(ggplot2)
library(plotly)
library(DT)
```
# COVID-19 situation in Japan 

```{r read_data}
japan_data <- read.csv(here::here("data/owid-covid-data.csv"))
```

```{r data}
japan <- japan_data %>%
  select(c("date",
           "total_cases",
           "new_cases",
           "total_deaths",
           "new_deaths",
           "new_tests",
           "total_tests",
           "location")) %>% 
  filter (location == "Japan") %>% 
  mutate(date = as.Date(date)) %>% 
  group_by(date) %>% 
  mutate(percentage_positive_rate = sum(new_cases/new_tests, na.rm = TRUE) )
```

```{r daily_cases}
cases <- japan %>% 
  select (c( "total_cases",
           "new_cases",
           "date",
          "location")) %>% 
  mutate(date = as.Date(date)) %>% 
  relocate(date,.before = total_cases)
```

Here is an interactive table has been provided for your own data exploration, feel free to play around the dataset and use it as a complement to the following analysis in this post. 

```{r interactive_table}
DT::datatable(japan, option = list(pageLength = 4))
```

```{r daily_case_p}
dcasesp_p<- ggplot(data = cases, 
                      aes(x = date,
                          y= new_cases,
                          )) +
    geom_line(stat = "identity", size = 0.5,colour = "#FF9999") +
  geom_point(size = 0.3, colour = "#FF9999") +
    ggtitle("Daily number of COVID-19 confirm cases in Japan from 2020-2021") +
  xlab("Date") + 
  ylab("Daily new cases in Japan") +
   scale_colour_brewer(palette = "Set1")

 dcasesp_p<-ggplotly(dcasesp_p)
dcasesp_p
```
From the plot we can see that the daily number of confirmed COVID-19 cases has increased dratistically from 2020 to 2021. From Janaury 2020 to november 2020 the trend was relatively flat with its peak at around 1500 daily confirmed cases, however by the beginning of 2021 june 20201, we see a huge surge with two peaks at around 7000 confirm cases per day. This increasing in peaks continued as by august 20th 2021 there are over 25000 confirm cases of COVID-19 in Japan per day. This indicates that the COVID-19 continues to rampage in Japan with more and more people catching the diseases. This could due to many reason, one being that the 2020 olypmpic  was held in August 20201 in Japan. In such an event, human gather in celebration of the olympic hence interaction is unavoidable and  as clusters increase  the spread of the disease also increases among the public thus the phenomon shown in this graph.  

```{r Tcases_graph}
tcases_p<- ggplot(data = cases, 
                      aes(x = date,
                          y= total_cases,
                          )) +
    geom_line(stat = "identity", size = 0.5) +
  geom_point(size = 0.3, colour = "#FF9999") +
    ggtitle("Total number of COVID-19 cases in Japan from 2020-2021") +
  xlab("Date") + 
  ylab("Total posiitve in Japan") +
   scale_colour_brewer(palette = "Set1")

dcases_p <-ggplotly(tcases_p)
dcases_p 
```


```{r daily_death}
death <- japan %>% 
  select (c( "total_deaths",
           "new_deaths",
           "date",
          "location")) %>% 
  mutate(date = as.Date(date)) %>% 
  relocate(date,.before = total_deaths)
```

```{r daily_death_plot}
ddeath_p<- ggplot(data = death, 
                      aes(x = date,
                          y= new_deaths,
                          )) +
    geom_line(stat = "identity", size = 0.5, colour = "#FF9999") +
  geom_point(size = 0.3, colour = "#FF9999") +
    ggtitle("Daily number of COVID-19 Death in Japn from 2020-2021") +
  xlab("Date") + 
  ylab("Daily new death in Japan") +
   scale_colour_brewer(palette = "Set1")+
   theme_minimal()

ddeath_p <-ggplotly(ddeath_p)
ddeath_p  
```

From this plot, we can see that from January 2020 to the end of August 2021, there has been many different flatuations in terms of the number of daily covid-19 deaths in Japan. The first wave reached its peak in May 2020 with a 29 daily cases of COVID-19 death, this number was later reduced to 23 cases of death daily by the second wave in September 2020. However by 2021, we see a greater wave in the number of daily deaths in Japan with the third and forth waves peaking at around 248 and 216 deaths repectively per day. 

```{r Tdeath_graph}
tdeath_p<- ggplot(data = death, 
                      aes(x = date,
                          y= total_deaths,
                          )) +
    geom_line(stat = "identity", size = 0.5) +
  geom_point(size = 0.3, colour = "#FF9999") +
    ggtitle("Total number of COVID-19 Death in Japn from 2020-2021") +
  xlab("Date") + 
  ylab("Total deaths in Japan") +
   scale_colour_brewer(palette = "Set1") +
  theme_minimal()

ddeath_p <-ggplotly(tdeath_p)
ddeath_p 
```

From the plot generated, we can see that there is an increasing trend in the number of the COVID-19 death in the Japan. The trend was relatively flat from the 14th of feburary 2020 to the 1st of December 2020, however after that there is a rapid surge in the number of death (first wave of the COVID-19 in japan)  that stopped around 12th of april 2021. However by May 2021, Japan faced a second small wave of the Covid-19 deaths, with its peak of total number of death arriving at 15987 by the end of August 2021. 

From the above analysis on the daily positive cases , daily number of deaths and the total number of COVID-19 deaths in Japan, it can be concluded that the covid-19 situation in Japan are not in the positive light as daily positive cases, the total number of death and daily number death are greater in 2021 than 2020. An possible explanation to this  phenomenon is that, as covid-19 conitues to rampage the world,simultaneosuly the virus itself also continues to mutate into new variants of the virus with stronger fatality rate and tramissibility. Thus, making it more difficult to not catch the virus and ultimately leading to higher number of deaths and number of positive cases in Japan. 



 